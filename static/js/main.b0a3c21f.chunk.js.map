{"version":3,"sources":["logo.svg","constants/index.js","assets/chrome-logo.svg","assets/chromium-logo.svg","utils/request.js","apis/index.js","pages/download/ContentList.jsx","pages/download/index.jsx","pages/IntroPage/utils.js","pages/IntroPage/Grabber.jsx","pages/IntroPage/index.jsx","pages/index.jsx","App.jsx","index.js"],"names":["grabberBodyPrefixPath","GRABBER_BODY","head","waiting","stalking","grabbing","grabbed","shaka","OS_LIST","val","file","EXPLAINS","title","detail","steps","text","href","USEFUL_LINKS","name","getMethod","url","method","data","axios","request","os","a","useEffect","React","useState","useCallback","ContentList","verPosList","setVerPosList","fetchStatus","setFetchStatus","value","label","selectedOption","setSelectedOption","searchVal","setSearchVal","dataList","setDataList","getVerPosOsJson","then","resp","Object","entries","map","v","p","ver","pos","options","item","delayedQuery","debounce","q","keyword","console","log","trim","length","result","Fuse","distance","keys","search","sendQuery","fileName","find","className","onChange","type","placeholder","style","marginTop","e","target","width","height","rowCount","rowHeight","rowRenderer","key","index","isScrolling","isVisible","data-key","marginRight","DownloadPage","props","setPage","explains","stepLis","s","i","raw","marginLeft","src","chromeLogo","onClick","cursor","chromiumLogo","window","document","body","scrollTop","documentElement","useRef","useLayoutEffect","useHover","ref","hovered","setHovered","enter","leave","current","addEventListener","removeEventListener","forEach","Image","GrabZone","cursorGrabbed","gameOver","onCursorGrabbed","outerRef","outerHovered","innerRef","innerHovered","isExtended","setExtendedArm","state","timer","setTimeout","clearTimeout","extended","Grabber","mousePos","x","y","position","setPosition","setFromEvent","clientX","clientY","useMousePosition","handleResize","getBoundingClientRect","usePosition","left","top","angle","Math","atan2","PI","rotation","min","max","parseInt","grabberClass","wrapperStyle","transform","handImageSrc","onMouseEnter","IntroPage","debug","handleToggleDebug","bind","handleButtonClicked","handleCursorGrabbed","this","setState","screenStyle","appClass","Component","Home","page","view","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b0a3c21f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","const grabberBodyPrefixPath =\n  'https://cdn.jsdelivr.net/gh/MrSeaWave/figure-bed-profile@main/uPic/2021/grabber_';\n\nexport const GRABBER_BODY = {\n  head: `${grabberBodyPrefixPath}head.svg`,\n  waiting: `${grabberBodyPrefixPath}hand.svg`,\n  stalking: `${grabberBodyPrefixPath}hand-waiting.svg`,\n  grabbing: `${grabberBodyPrefixPath}hand.svg`,\n  grabbed: `${grabberBodyPrefixPath}hand-with-cursor.svg`,\n  shaka: `${grabberBodyPrefixPath}hand-surfs-up.svg`,\n};\n\nexport const OS_LIST = [\n  { val: 'Mac', file: 'chrome-mac.zip' },\n  { val: 'Win_x64', file: 'chrome-win.zip' },\n  { val: 'Win', file: 'chrome-win32.zip' },\n  { val: 'Linux_x64', file: 'chrome-linux.zip' },\n  { val: 'Linux', file: 'chrome-linux.zip' },\n  { val: 'Android', file: 'chrome-android.zip' },\n];\n\nexport const EXPLAINS = [\n  {\n    title: '在这里可以下载 Chrome 的各种历史版本',\n  },\n  {\n    title: '可执行文件，像：',\n    detail:\n      'chrome-mac.zip, chrome-win.zip, chrome-win32.zip, chrome-linux.zip, chrome-android.zip ...',\n  },\n  {\n    title: '如何获取 version 与 position 的映射关系',\n    steps: [\n      {\n        text: '寻找所有的版本 version',\n        href: 'https://chromium.googlesource.com/chromium/src/+refs',\n      },\n      {\n        text:\n          '通过 version 获取 position (类似的api https://omahaproxy.appspot.com/)',\n        href: 'https://omahaproxy.appspot.com/deps.json?version=86.0.4240.63',\n      },\n      {\n        text:\n          '对 position 按照 os（例如 Mac ）进行分类, 并找出对应的数据是否存在',\n        href:\n          'https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/',\n      },\n      {\n        text: '忽略一些错误数据',\n      },\n      {\n        text: '生成最终的数据，并且在这个页面展示',\n      },\n    ],\n  },\n  {\n    title: '资源',\n    steps: [\n      {\n        text: '原始JSON数据',\n        href: 'https://github.com/MrSeaWave/chromium-history-dataSource',\n      },\n      {\n        text: '当前页面代码',\n        href: 'https://github.com/MrSeaWave/chromium-history-page',\n      },\n      {\n        text: '爬虫',\n        href: 'https://github.com/MrSeaWave/chromium-history-crawler',\n      },\n      {\n        text: '爬虫Actions',\n        href: 'https://github.com/MrSeaWave/chromium-history-crawler/actions',\n      },\n    ],\n  },\n  {\n    title: 'PS:',\n    detail: ' 网页中含有彩蛋，请仔细寻找呦~',\n  },\n];\n\nexport const USEFUL_LINKS = [\n  {\n    name: 'Official Version List',\n    href: 'https://chromium.googlesource.com/chromium/src/+refs',\n  },\n  {\n    name: 'Official Look Up Page (omahaproxy)',\n    href: 'https://omahaproxy.appspot.com/',\n  },\n  {\n    name: 'Official Download Page',\n    href:\n      'https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html',\n  },\n];\n\nexport const DOWNLOAD_URL_BASE =\n  'https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=';\n","export default __webpack_public_path__ + \"static/media/chrome-logo.2a01ee62.svg\";","export default __webpack_public_path__ + \"static/media/chromium-logo.55877e18.svg\";","import axios from 'axios';\n\nconst request = (url, method = 'get', data) => {\n  return axios({\n    method,\n    url,\n    data,\n  });\n};\n\nexport const getMethod = ({ url, data }) => request(url, 'get', data);\n","import { getMethod } from '@/utils/request';\n\nexport async function getVerPosOsJson(os) {\n  return getMethod({ url: `json/ver-pos-os/version-position-${os}.json` });\n}\n","import { getVerPosOsJson } from '@/apis';\nimport React from 'react';\nimport Select from 'react-select';\nimport debounce from 'lodash.debounce';\nimport Fuse from 'fuse.js';\nimport { List } from 'react-virtualized';\n\nimport { DOWNLOAD_URL_BASE, OS_LIST } from '@/constants';\n\nconst { useEffect, useState, useCallback } = React;\n\nfunction ContentList() {\n  const [verPosList, setVerPosList] = useState([]);\n  const [fetchStatus, setFetchStatus] = useState('done');\n  const [selectedOption, setSelectedOption] = useState({\n    value: 'Mac',\n    label: 'Mac',\n  });\n  const [searchVal, setSearchVal] = useState('');\n  const [dataList, setDataList] = useState([]);\n\n  useEffect(() => {\n    setFetchStatus('fetching');\n    getVerPosOsJson(selectedOption.value).then((resp) => {\n      const val = Object.entries(resp.data).map(([v, p]) => {\n        const os = selectedOption.value;\n        return {\n          ver: v,\n          pos: p,\n          href: `${DOWNLOAD_URL_BASE}${os}/${p}/`,\n        };\n      });\n      setVerPosList(val);\n      setDataList(val);\n      setFetchStatus('done');\n    });\n  }, [selectedOption]);\n  const options = OS_LIST.map((item) => ({\n    value: item.val,\n    label: item.val,\n  }));\n\n  // react hook 使用防抖的方式 https://zhuanlan.zhihu.com/p/88799841\n  // react class 使用防抖的的方式 https://billqiu.github.io/2017/10/15/how-to-debounce-in-react/\n  const sendQuery = (keyword) => {\n    console.log(`keyword for ${keyword}`, keyword.trim(), verPosList.length);\n    if (!keyword.trim()) {\n      setDataList(verPosList);\n      return;\n    }\n\n    const searchFuse = new Fuse(verPosList, {\n      distance: 1000,\n      keys: ['ver', 'pos'],\n    });\n    const result = searchFuse.search(keyword);\n    setDataList(result.map((item) => item.item));\n  };\n\n  const delayedQuery = useCallback(\n    debounce((q) => sendQuery(q), 500),\n    [fetchStatus]\n  );\n  const onChange = (e) => {\n    // 设定搜索数据\n    setSearchVal(e.target.value);\n    // 防抖：取出相应的数据\n    delayedQuery(e.target.value);\n  };\n\n  const fileName = OS_LIST.find((item) => item.val === selectedOption.value)\n    .file;\n\n  function rowRenderer({ key, index, isScrolling, isVisible, style }) {\n    const item = dataList[index];\n    const { ver, href, pos } = item;\n    return (\n      <div key={key} style={style} className='ver-pos-row' data-key={key}>\n        <a target='_blank' href={href}>\n          <span style={{ marginRight: 20, width: 240 }}>version: {ver}</span>\n          <span>position: {pos}</span>\n        </a>\n      </div>\n    );\n  }\n\n  console.log('Fetch Status: ', fetchStatus);\n\n  return (\n    <div>\n      <Select\n        className='select-class'\n        value={selectedOption}\n        onChange={(selectedOption) => {\n          setSearchVal('');\n          setSelectedOption(selectedOption);\n        }}\n        options={options}\n      />\n      <input\n        value={searchVal}\n        type='search'\n        placeholder='Search Version or Position'\n        style={{ marginTop: 20 }}\n        onChange={onChange}\n      />\n      <div className='ver-pos-tips'>Search Count: {dataList.length}</div>\n      <div className='ver-pos-tips'>\n        version (chromium_base_position): {fileName}\n      </div>\n      <List\n        className='vir-list-wrapper'\n        width={600}\n        height={600}\n        rowCount={dataList.length}\n        rowHeight={25}\n        rowRenderer={rowRenderer}\n      />\n    </div>\n  );\n}\n\nexport default ContentList;\n","import React from 'react';\nimport { EXPLAINS, USEFUL_LINKS } from '@/constants';\nimport chromeLogo from '@/assets/chrome-logo.svg';\nimport chromiumLogo from '@/assets/chromium-logo.svg';\n\nimport './index.css';\nimport ContentList from './ContentList';\n\nfunction DownloadPage(props) {\n  const { setPage } = props;\n  const explains = EXPLAINS.map((item, index) => {\n    const { detail, steps = [], title } = item;\n\n    const stepLis = steps.map((s, i) => {\n      const { href, text } = s;\n      const raw = href ? (\n        <a target='_blank' href={href}>\n          {text}\n        </a>\n      ) : (\n        <span>{text}</span>\n      );\n      return <li key={`step_${index}_${i}`}>{raw}</li>;\n    });\n\n    return (\n      <li key={index}>\n        {title}\n        <span className='detail'>{detail}</span>\n        <ol> {stepLis}</ol>\n      </li>\n    );\n  });\n\n  const onGoTopClick = () => {\n    window.document.body.scrollTop = 0;\n    window.document.documentElement.scrollTop = 0;\n  };\n  return (\n    <div style={{ marginLeft: 20 }}>\n      <div className='header'>\n        <div style={{ marginLeft: 15 }}>\n          <a target='_blank' href='https://www.google.com/chrome/'>\n            <img src={chromeLogo} className='logo-img' />\n          </a>\n          <span onClick={() => setPage('eggs')} style={{ cursor: 'pointer' }}>\n            ‿\n          </span>\n          <a target='_blank' href='https://www.chromium.org/'>\n            <img src={chromiumLogo} className='logo-img chromium-logo' />\n          </a>\n        </div>\n        <h1>Chromium History Versions Download ↓</h1>\n        <h3>说明：</h3>\n        <ul className='explains'>{explains}</ul>\n      </div>\n      <div className='content'>\n        <h3>版本:</h3>\n        <ContentList />\n      </div>\n      <div className='footer'>\n        <h3>一些有用的链接:</h3>\n        <ul>\n          {USEFUL_LINKS.map((item) => {\n            const { name, href } = item;\n            return (\n              <li key={name}>\n                <a target='_blank' href={href}>\n                  {name}\n                </a>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n      <button onClick={onGoTopClick} className='go-top' title='Go to top'>\n        ↑ Top\n      </button>\n    </div>\n  );\n}\n\nexport default DownloadPage;\n","import React from 'react';\n\nconst { useState, useRef, useEffect, useLayoutEffect } = React;\n\n/**\n * Shared hooks\n */\n\n// Hover state - https://dev.to/spaciecat/hover-states-with-react-hooks-4023\nexport const useHover = () => {\n  const ref = useRef();\n  const [hovered, setHovered] = useState(false);\n\n  const enter = () => setHovered(true);\n  const leave = () => setHovered(false);\n\n  useEffect(() => {\n    ref.current.addEventListener('mouseenter', enter);\n    ref.current.addEventListener('mouseleave', leave);\n    return () => {\n      ref.current.removeEventListener('mouseenter', enter);\n      ref.current.removeEventListener('mouseleave', leave);\n    };\n  }, [ref]);\n\n  return [ref, hovered];\n};\n\n// Mouse position\nexport const useMousePosition = () => {\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n\n  useEffect(() => {\n    const setFromEvent = (e) => setPosition({ x: e.clientX, y: e.clientY });\n    window.addEventListener('mousemove', setFromEvent);\n\n    return () => {\n      window.removeEventListener('mousemove', setFromEvent);\n    };\n  }, []);\n\n  return position;\n};\n\n// Element position\nexport const usePosition = () => {\n  const ref = useRef();\n  const [position, setPosition] = useState({});\n\n  const handleResize = () => {\n    setPosition(ref.current.getBoundingClientRect());\n  };\n\n  useLayoutEffect(() => {\n    handleResize();\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [ref.current]);\n\n  return [ref, position];\n};\n","import { GRABBER_BODY } from '@/constants';\nimport React from 'react';\n\nimport { useHover, useMousePosition, usePosition } from './utils';\n\nconst { useState, useEffect } = React;\n\n// Preload images\nObject.keys(GRABBER_BODY).forEach((key) => {\n  // eslint-disable-next-line no-undef\n  const img = new Image();\n  img.src = GRABBER_BODY[key];\n});\n\n// 抢夺区域 (The hover trigger zone)\nexport const GrabZone = ({ cursorGrabbed, gameOver, onCursorGrabbed }) => {\n  const [outerRef, outerHovered] = useHover();\n  const [innerRef, innerHovered] = useHover();\n  const [isExtended, setExtendedArm] = useState(false);\n\n  let state = 'waiting';\n  if (outerHovered) {\n    state = 'stalking';\n  }\n  if (innerHovered) {\n    state = 'grabbing';\n  }\n  if (cursorGrabbed) {\n    state = 'grabbed';\n  }\n  if (gameOver) {\n    state = 'shaka';\n  }\n\n  // If state is grabbing for a long time, they're being clever!\n  useEffect(() => {\n    let timer;\n    if (state === 'grabbing') {\n      timer = setTimeout(() => {\n        // Not so clever now, are they?\n        setExtendedArm(true);\n        timer = null;\n      }, 2000);\n    }\n    return () => {\n      setExtendedArm(false);\n      if (timer) {\n        clearTimeout(timer);\n      }\n    };\n  }, [state]);\n\n  return (\n    <div className='grab-zone' ref={outerRef}>\n      <div className='grab-zone__debug'>\n        <strong>Debug info:</strong>\n        <p>Current state: {state}</p>\n        <p>Extended arm: {isExtended ? 'Yes' : 'No'}</p>\n      </div>\n      <div className='grab-zone__danger' ref={innerRef}>\n        <Grabber\n          state={state}\n          gameOver={gameOver}\n          extended={isExtended}\n          onCursorGrabbed={onCursorGrabbed}\n        />\n      </div>\n    </div>\n  );\n};\n\n// 抢夺者\nconst Grabber = ({ state, gameOver, extended, onCursorGrabbed }) => {\n  const mousePos = useMousePosition();\n  const [ref, position] = usePosition();\n  const hasCursor = false;\n\n  // Calculate rotation of armWrapper\n  const x = position.left + position.width * 0.5;\n  const y = position.top + position.height * 0.5;\n  const angle = gameOver\n    ? 0\n    : Math.atan2(mousePos.x - x, -(mousePos.y - y)) * (180 / Math.PI);\n\n  // Ensure value is within acceptable range (-75 to 75)\n  const rotation = Math.min(Math.max(parseInt(angle), -79), 79);\n\n  const grabberClass = `grabber grabber--${state} ${\n    extended && 'grabber--extended'\n  }`;\n  const wrapperStyle = { transform: `rotate(${rotation}deg)` };\n\n  const handImageSrc = GRABBER_BODY[state];\n\n  return (\n    <div className={grabberClass}>\n      <div className='grabber__body'></div>\n      <img className='grabber__face' src={GRABBER_BODY.head} />\n      <div className='grabber__arm-wrapper' ref={ref} style={wrapperStyle}>\n        <div className='grabber__arm'>\n          <img\n            className='grabber__hand'\n            src={handImageSrc}\n            onMouseEnter={onCursorGrabbed}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { Component } from 'react';\nimport { GrabZone } from './Grabber';\nimport './index.css';\n\n/**\n * React Components\n */\n\nclass IntroPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      debug: false,\n      cursorGrabbed: false,\n      gameOver: false,\n    };\n    this.handleToggleDebug = this.handleToggleDebug.bind(this);\n    this.handleButtonClicked = this.handleButtonClicked.bind(this);\n    this.handleCursorGrabbed = this.handleCursorGrabbed.bind(this);\n  }\n\n  handleToggleDebug() {\n    this.setState({\n      debug: !this.state.debug,\n    });\n  }\n\n  handleCursorGrabbed() {\n    this.setState({\n      cursorGrabbed: true,\n    });\n    setTimeout(() => {\n      this.setState({\n        cursorGrabbed: false,\n      });\n    }, 2000);\n  }\n\n  handleButtonClicked() {\n    this.setState({\n      gameOver: true,\n    });\n    setTimeout(() => {\n      this.setState({\n        gameOver: false,\n      });\n    }, 4000);\n  }\n\n  render() {\n    const { cursorGrabbed, gameOver, debug } = this.state;\n    const screenStyle = cursorGrabbed ? { cursor: 'none' } : {};\n    const appClass = debug ? 'intro-page intro-page--debug' : 'intro-page';\n\n    return (\n      <div className={appClass} style={screenStyle}>\n        <section className='container'>\n          <h1>Hello!</h1>\n          <h2>Welcome to the eggs page.</h2>\n          <p>This is a classic website, no traps or weird stuff!</p>\n          <p>\n            Feel free to browse, relax and, I don't know, click the button down\n            there? Might as well, right?\n          </p>\n\n          <button className='debug-button' onClick={this.handleToggleDebug}>\n            Debug\n          </button>\n        </section>\n\n        <button className='trap-button' onClick={this.handleButtonClicked}>\n          {gameOver && 'Nice one'}\n          {cursorGrabbed && 'Gotcha!'}\n          {!gameOver && !cursorGrabbed && 'Button!'}\n        </button>\n\n        <div className='grab-zone-wrapper'>\n          <GrabZone\n            onCursorGrabbed={this.handleCursorGrabbed}\n            cursorGrabbed={cursorGrabbed}\n            gameOver={gameOver}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default IntroPage;\n","import React from 'react';\nimport DownloadPage from './download';\nimport IntroPage from './IntroPage';\n\nconst { useState } = React;\n\nfunction Home() {\n  const [page, setPage] = useState('download');\n\n  let view = <DownloadPage setPage={setPage} />;\n  if (page !== 'download') view = <IntroPage setPage={setPage} />;\n\n  return <div>{view}</div>;\n}\n\nexport default Home;\n","import logo from './logo.svg';\nimport './App.css';\nimport Home from '@/pages/index';\n// import Home from '@/pages/index';\n\nfunction App() {\n  return <Home className='App-logo' />;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}